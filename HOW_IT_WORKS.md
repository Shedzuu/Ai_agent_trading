# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–æ–≤)

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏–∑ –≤–∞—à–∏—Ö –ª–æ–≥–æ–≤

### ‚úÖ –ß—Ç–æ –≤–∏–¥–Ω–æ –∏–∑ –ª–æ–≥–æ–≤:

**1. –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö!**

```
INFO: Attempting to train on real historical data...
INFO: Fetching historical data for SPY (period: 1y)
INFO: Successfully loaded 250 records
INFO: Prepared 249 training samples from historical data
INFO: Label distribution: BUY=24, HOLD=205, SELL=20
INFO: Using 249 historical samples for training
INFO: Model trained. Train accuracy: 1.000, Test accuracy: 0.820
```

**–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- ‚úÖ –ú–æ–¥–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Market Monitoring Agent
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 249 —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –û–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö —Ä—ã–Ω–∫–∞
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö: 82%

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–ø–æ –ª–æ–≥–∞–º)

### –ü—Ä–∏–º–µ—Ä 1: –†—É—á–Ω–æ–π workflow

```
Step 1: Market Monitoring Agent
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úì –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ AAPL (143 –∑–∞–ø–∏—Å–∏)
‚úì –í—ã—á–∏—Å–ª—è–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (SMA, RSI, MACD)
‚úì –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç: —Ç—Ä–µ–Ω–¥ = bear, —Å–∏–ª–∞ = 0.48
‚úì –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è Decision Agent

Step 2: Decision Making Agent
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úì –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç Market Agent
‚úì –û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö SPY (249 –ø—Ä–∏–º–µ—Ä–æ–≤)
‚úì –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞: —Ç–æ—á–Ω–æ—Å—Ç—å 82%
‚úì –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ: SELL
‚úì –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.64
‚úì –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 1 –∞–∫—Ü–∏—è @ $278.79

Step 3: Execution Agent
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úì –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ: SELL 1 AAPL
‚úì –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–¥–µ–ª–∫—É (—Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ)
‚úì Order ID: ORD_20251207014612191069
‚úì –¶–µ–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: $278.51
‚úì –ö–æ–º–∏—Å—Å–∏—è: $0.28
```

---

## üß† –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏:

```
1. Decision Agent —Å–æ–∑–¥–∞–µ—Ç—Å—è
   ‚Üì
2. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ receive_market_data():
   ‚Üì
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: –º–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–µ–Ω–∞ ‚Üí –Ω—É–∂–Ω–æ –æ–±—É—á–∏—Ç—å
   ‚Üì
4. –°–æ–∑–¥–∞–µ—Ç Market Monitoring Agent –¥–ª—è SPY
   ‚Üì
5. –ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ SPY –∑–∞ 1 –≥–æ–¥ (250 –∑–∞–ø–∏—Å–µ–π)
   ‚Üì
6. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏:
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç 14 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (—Ü–µ–Ω—ã, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –∞–Ω–∞–ª–∏–∑)
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –±—É–¥—É—â–µ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã
   ‚Üì
7. –ü–æ–ª—É—á–∞–µ—Ç 249 –ø—Ä–∏–º–µ—Ä–æ–≤:
   - BUY: 24 –ø—Ä–∏–º–µ—Ä–∞
   - HOLD: 205 –ø—Ä–∏–º–µ—Ä–æ–≤
   - SELL: 20 –ø—Ä–∏–º–µ—Ä–æ–≤
   ‚Üì
8. –û–±—É—á–∞–µ—Ç Random Forest –º–æ–¥–µ–ª—å
   ‚Üì
9. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   - Train accuracy: 100% (–ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–µ - –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
   - Test accuracy: 82% (—Ö–æ—Ä–æ—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
```

---

## üìà –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–∫

–ò–∑ –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ:
```
Label distribution: BUY=24, HOLD=205, SELL=20
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- **HOLD (205)** - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–ª—É—á–∞–µ–≤ (82%)
  - –†—ã–Ω–æ–∫ —á–∞—â–µ –≤—Å–µ–≥–æ –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
  - –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å
  
- **BUY (24)** - 10% —Å–ª—É—á–∞–µ–≤
  - –•–æ—Ä–æ—à–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∫—É–ø–∫–∏
  
- **SELL (20)** - 8% —Å–ª—É—á–∞–µ–≤
  - –•–æ—Ä–æ—à–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏

**–≠—Ç–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ!** –†—ã–Ω–æ–∫ —á–∞—â–µ –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã —Ä–µ—à–µ–Ω–∏–π –∏–∑ –ª–æ–≥–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: AAPL
```
Market Trend: bear (–º–µ–¥–≤–µ–∂–∏–π)
Decision: SELL
Confidence: 0.64
‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–æ: 1 –∞–∫—Ü–∏—è @ $278.51
```

**–õ–æ–≥–∏–∫–∞:** –ú–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥ ‚Üí —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–¥–∞—Ç—å ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

### –ü—Ä–∏–º–µ—Ä 2: TSLA
```
Market Trend: bull (–±—ã—á–∏–π)
Decision: SELL
Confidence: 0.62
‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–æ: 1 –∞–∫—Ü–∏—è @ $454.49
```

**–õ–æ–≥–∏–∫–∞:** –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥, –º–æ–¥–µ–ª—å —Ä–µ—à–∏–ª–∞ –ø—Ä–æ–¥–∞—Ç—å (–≤–æ–∑–º–æ–∂–Ω–æ, –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å)

### –ü—Ä–∏–º–µ—Ä 3: MSFT
```
Decision: HOLD
Confidence: 0.50
Reason: Decision rejected: confidence 0.60 < min 0.6
```

**–õ–æ–≥–∏–∫–∞:** –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –±—ã–ª–∞ 0.60, –Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ 0.6 ‚Üí HOLD

### –ü—Ä–∏–º–µ—Ä 4: GOOGL
```
Decision: HOLD
Confidence: 0.50
Reason: Decision rejected: confidence 0.54 < min 0.6
```

**–õ–æ–≥–∏–∫–∞:** –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å ‚Üí HOLD (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏)

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ

1. **–û–±—É—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
   - ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ SPY —á–µ—Ä–µ–∑ Market Agent
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 249 —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
   - ‚úÖ –•–æ—Ä–æ—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (82%)

2. **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π:**
   - ‚úÖ –ú–æ–¥–µ–ª—å –¥–µ–ª–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (SELL, HOLD)
   - ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
   - ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ (–æ—Ç–∫–ª–æ–Ω—è–µ—Ç –Ω–∏–∑–∫—É—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)

3. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫:**
   - ‚úÖ –í—Å–µ —Å–¥–µ–ª–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ Order ID
   - ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–∏ –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ

4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - ‚úÖ –î–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è (–≤–∏–¥–Ω–æ "Loaded data from cache")
   - ‚úÖ –£—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

---

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤ Example 4

–í Example 4 –±—ã–ª–∞ –æ—à–∏–±–∫–∞:
```
Error: No processed data. Call get_processed_data() first.
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ù—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–∑–≤–∞—Ç—å `get_processed_data()` –ø–µ—Ä–µ–¥ `send_to_decision_agent()`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `get_processed_data()`

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑ –ª–æ–≥–æ–≤

### –¢–æ—Ä–≥–æ–≤–ª—è:
- –í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫: 4
- –ü–æ–∫—É–ø–æ–∫: 0
- –ü—Ä–æ–¥–∞–∂: 4
- –û–±—â–∏–π –æ–±—ä–µ–º: $1011.51
- –û–±—â–∞—è –∫–æ–º–∏—Å—Å–∏—è: $1.01

### –ú–æ–¥–µ–ª—å:
- –û–±—É—á–∞–µ—Ç—Å—è –Ω–∞: 249 —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
- –¢–æ—á–Ω–æ—Å—Ç—å: 82% –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: 82% HOLD, 10% BUY, 8% SELL

---

## üéØ –ò—Ç–æ–≥

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

1. ‚úÖ **–ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö
2. ‚úÖ **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è** - —É—á–∏—Ç—ã–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ —Ä–∏—Å–∫–∏
3. ‚úÖ **–í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–¥–µ–ª–∫–∏** - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏** - –æ—Ç–∫–ª–æ–Ω—è–µ—Ç —Ä–µ—à–µ–Ω–∏—è —Å –Ω–∏–∑–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é

**–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ!** üöÄ

